@import 'tailwindcss';

/* Radix Colors - teal for accent, sage for gray (tinted to complement teal) */
@import '@radix-ui/colors/teal.css';
@import '@radix-ui/colors/teal-dark.css';
@import '@radix-ui/colors/teal-alpha.css';
@import '@radix-ui/colors/teal-dark-alpha.css';
@import '@radix-ui/colors/sage.css';
@import '@radix-ui/colors/sage-dark.css';
@import '@radix-ui/colors/sage-alpha.css';
@import '@radix-ui/colors/sage-dark-alpha.css';

/*
 * Theme System based on Radix Colors
 *
 * 12-step scale with semantic purposes:
 * 1-2:   Backgrounds (app, subtle)
 * 3-5:   Interactive components (normal, hover, active)
 * 6-8:   Borders and separators
 * 9-10:  Solid colors (primary)
 * 11-12: Text (low-contrast, high-contrast)
 *
 * Dark theme is default. Light theme activated with .light class.
 * Radix Colors handles the color values automatically per theme.
 */

@theme {
  /* Golden ratio spacing scale (phi = 1.618) */
  --spacing-phi-xs: 0.236em;
  --spacing-phi-sm: 0.382em;
  --spacing-phi-md: 0.618em;
  --spacing-phi: 1em;
  --spacing-phi-lg: 1.382em;
  --spacing-phi-xl: 1.618em;
  --spacing-phi-2xl: 2.618em;

  /* Golden ratio border radius */
  --radius-phi: 0.618em;

  /* Font families */
  --font-heading: 'Kufam', sans-serif;
  --font-mono:
    ui-monospace, SFMono-Regular, 'SF Mono', Menlo, Consolas, monospace;
}

/*
 * Semantic tokens - alias Radix color scales to semantic names
 * To change accent color, swap --teal-* for another Radix scale (e.g., --blue-*)
 */
:root {
  /* Accent semantic tokens */
  --accent-1: var(--teal-1);
  --accent-2: var(--teal-2);
  --accent-3: var(--teal-3);
  --accent-4: var(--teal-4);
  --accent-5: var(--teal-5);
  --accent-6: var(--teal-6);
  --accent-7: var(--teal-7);
  --accent-8: var(--teal-8);
  --accent-9: var(--teal-9);
  --accent-10: var(--teal-10);
  --accent-11: var(--teal-11);
  --accent-12: var(--teal-12);

  /* Accent alpha tokens */
  --accent-a1: var(--teal-a1);
  --accent-a2: var(--teal-a2);
  --accent-a3: var(--teal-a3);
  --accent-a4: var(--teal-a4);
  --accent-a5: var(--teal-a5);
  --accent-a6: var(--teal-a6);
  --accent-a7: var(--teal-a7);
  --accent-a8: var(--teal-a8);
  --accent-a9: var(--teal-a9);
  --accent-a10: var(--teal-a10);
  --accent-a11: var(--teal-a11);
  --accent-a12: var(--teal-a12);

  /* Accent functional tokens */
  --accent-surface: var(--teal-a2);
  --accent-indicator: var(--teal-9);
  --accent-track: var(--teal-9);
  --accent-contrast: white;

  /* Gray semantic tokens (using sage - tinted gray that complements teal) */
  --gray-1: var(--sage-1);
  --gray-2: var(--sage-2);
  --gray-3: var(--sage-3);
  --gray-4: var(--sage-4);
  --gray-5: var(--sage-5);
  --gray-6: var(--sage-6);
  --gray-7: var(--sage-7);
  --gray-8: var(--sage-8);
  --gray-9: var(--sage-9);
  --gray-10: var(--sage-10);
  --gray-11: var(--sage-11);
  --gray-12: var(--sage-12);

  /* Gray alpha tokens */
  --gray-a1: var(--sage-a1);
  --gray-a2: var(--sage-a2);
  --gray-a3: var(--sage-a3);
  --gray-a4: var(--sage-a4);
  --gray-a5: var(--sage-a5);
  --gray-a6: var(--sage-a6);
  --gray-a7: var(--sage-a7);
  --gray-a8: var(--sage-a8);
  --gray-a9: var(--sage-a9);
  --gray-a10: var(--sage-a10);
  --gray-a11: var(--sage-a11);
  --gray-a12: var(--sage-a12);

  /* Background tokens */
  --color-background: var(--gray-1);
  --color-panel-solid: var(--gray-2);
  --color-panel-translucent: var(--gray-a2);
  --color-surface: var(--gray-a3);
  --color-overlay: rgba(0, 0, 0, 0.7);
}

.light {
  --color-overlay: rgba(0, 0, 0, 0.4);
  --accent-contrast: var(--teal-1);
}

/*
 * Legacy compatibility layer
 * Maps old token names to new system
 */
:root {
  /* Background tokens */
  --theme-bg-page: var(--color-background);
  --theme-bg-surface: var(--gray-3);
  --theme-bg-elevated: var(--gray-2);
  --theme-bg-contrast: var(--gray-4);

  /* Text tokens */
  --theme-text-primary: var(--gray-12);
  --theme-text-body: var(--gray-12);
  --theme-text-description: var(--gray-11);
  --theme-text-muted: var(--gray-10);
  --theme-text-tertiary: var(--gray-9);

  /* Border tokens */
  --theme-border-subtle: var(--gray-6);
  --theme-border-muted: var(--gray-7);

  /* Button tokens */
  --theme-btn-ghost-text: var(--gray-11);
  --theme-btn-ghost-hover-bg: var(--gray-a3);
  --theme-btn-ghost-hover-text: var(--gray-12);
  --theme-btn-outline-hover-bg: var(--accent-a3);
  --theme-btn-primary-text: var(--accent-contrast);

  /* Accent shorthand (legacy) */
  --color-accent: var(--accent-9);
  --color-accent-hover: var(--accent-10);
  --color-accent-print: var(--accent-11);
}

/* Base styles */
@layer base {
  body {
    background-color: var(--color-background);
    color: var(--gray-12);
    @apply antialiased;
  }
}

/* Component styles */
@layer components {
  .summary-text strong {
    color: var(--accent-11);
    font-weight: 900;
    font-size: 1.125rem;
    transition: color 0.15s;
  }
  .summary-text strong:hover {
    color: var(--accent-12);
  }
  .summary-text em {
    color: var(--accent-11);
    font-style: normal;
    font-weight: 600;
    transition: color 0.15s;
  }
  .summary-text em:hover {
    color: var(--accent-12);
  }
}

/* Scroll animations - only on screen */
@media screen {
  .animate-fade-slide-up {
    opacity: 0;
    transform: translateY(20px);
  }

  .animate-fade-slide-up.is-visible {
    animation: fadeSlideUp 0.5s ease-out forwards;
  }

  @keyframes fadeSlideUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
}

/* Print styles - force light theme for paper */
@media print {
  :root {
    /* Force light theme colors for print */
    --teal-1: #fafefd;
    --teal-2: #f1fcfa;
    --teal-3: #e7f9f5;
    --teal-4: #d9f3ee;
    --teal-5: #c7ebe5;
    --teal-6: #afdfd7;
    --teal-7: #8dcec3;
    --teal-8: #53b9ab;
    --teal-9: #12a594;
    --teal-10: #0e9888;
    --teal-11: #067a6f;
    --teal-12: #10302b;

    --sage-1: #fbfdfc;
    --sage-2: #f7f9f8;
    --sage-3: #eef1f0;
    --sage-4: #e6e9e8;
    --sage-5: #dfe2e0;
    --sage-6: #d7dad9;
    --sage-7: #cbcfcd;
    --sage-8: #b8bcba;
    --sage-9: #868e8b;
    --sage-10: #7c8481;
    --sage-11: #5f6563;
    --sage-12: #1a211e;
  }

  .no-print {
    display: none !important;
  }

  .qr-code {
    color: var(--accent-10);
  }

  body {
    background: transparent !important;
  }
}

@page {
  margin: 0.5cm 1.5cm;
}

/* Utility classes */
@layer utilities {
  /* Semantic text colors */
  .text-body {
    color: var(--gray-12);
  }
  .text-description {
    color: var(--gray-11);
  }

  /* Interactive accent text */
  .text-accent {
    color: var(--accent-11);
    cursor: default;
    transition: color 0.15s;
  }
  .text-accent:hover {
    color: var(--accent-12);
  }

  /* Icon link style */
  .icon-link {
    color: var(--accent-11);
    transition: color 0.15s;
  }
  .icon-link:hover {
    color: var(--accent-12);
  }

  /* Muted text variants */
  .text-muted {
    color: var(--gray-11);
  }
  .text-muted-sm {
    color: var(--gray-11);
    font-size: 0.875rem;
  }
  .text-muted-xs {
    color: var(--gray-11);
    font-size: 0.75rem;
  }

  /* Tertiary text (dates, etc.) */
  .text-tertiary {
    color: var(--gray-9);
  }

  /* Semantic background colors */
  .bg-surface {
    background-color: var(--color-surface);
  }
  .bg-page {
    background-color: var(--color-background);
  }
  .bg-elevated {
    background-color: var(--gray-2);
  }
  .bg-contrast {
    background-color: var(--gray-4);
  }

  /* Semantic border colors */
  .border-subtle {
    border-color: var(--gray-6);
  }
  .border-muted {
    border-color: var(--gray-7);
  }

  /* Button semantic colors */
  .btn-primary {
    background-color: var(--accent-9);
    color: var(--accent-contrast);
    transition: background-color 0.15s;
  }
  .btn-primary:hover {
    background-color: var(--accent-10);
  }
  .btn-outline {
    border: 1px solid var(--accent-7);
    background-color: transparent;
    color: var(--accent-11);
    transition:
      background-color 0.15s,
      color 0.15s;
  }
  .btn-outline:hover {
    background-color: var(--accent-a3);
    color: var(--accent-12);
  }
  .btn-ghost {
    color: var(--gray-11);
    transition:
      background-color 0.15s,
      color 0.15s;
  }
  .btn-ghost:hover {
    background-color: var(--gray-a3);
    color: var(--gray-12);
  }
  .btn-link {
    color: var(--accent-11);
    text-underline-offset: 4px;
  }
  .btn-link:hover {
    text-decoration: underline;
  }

  /* Typography */
  .small-caps {
    font-variant: all-small-caps;
  }

  /* Print layout utilities */
  .print-avoid-break {
    break-inside: avoid;
  }
  .print-avoid-break-before {
    break-before: avoid;
  }
  .print-avoid-break-after {
    break-after: avoid;
  }

  /* Golden ratio spacing utilities */
  .my-phi-xl {
    margin-top: var(--spacing-phi-xl);
    margin-bottom: var(--spacing-phi-xl);
  }
  .my-phi-2xl {
    margin-top: var(--spacing-phi-2xl);
    margin-bottom: var(--spacing-phi-2xl);
  }
  .mb-phi-2xl {
    margin-bottom: var(--spacing-phi-2xl);
  }
  .mx-phi-xl {
    margin-left: var(--spacing-phi-xl);
    margin-right: var(--spacing-phi-xl);
  }
  .mx-phi-sm {
    margin-left: var(--spacing-phi-sm);
    margin-right: var(--spacing-phi-sm);
  }
  .mx-phi {
    margin-left: var(--spacing-phi);
    margin-right: var(--spacing-phi);
  }
  .my-phi-lg {
    margin-top: var(--spacing-phi-lg);
    margin-bottom: var(--spacing-phi-lg);
  }
  .mr-phi-lg {
    margin-right: var(--spacing-phi-lg);
  }
  .ml-phi {
    margin-left: var(--spacing-phi);
  }
  .mt-phi-md {
    margin-top: var(--spacing-phi-md);
  }
  .mb-phi-xs {
    margin-bottom: var(--spacing-phi-xs);
  }
  .pb-phi-xl {
    padding-bottom: var(--spacing-phi-xl);
  }
  .rounded-phi {
    border-radius: var(--radius-phi);
  }
}
